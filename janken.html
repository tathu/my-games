<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>„Åò„ÇÉ„Çì„Åë„Çì„Ç≤„Éº„É†</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .container {
      background: white;
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      max-width: 500px;
      width: 90%;
    }

    h1 {
      font-size: 2rem;
      color: #333;
      margin-bottom: 10px;
    }

    .score-board {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin: 20px 0;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 12px;
    }

    .score-item {
      text-align: center;
    }

    .score-label {
      font-size: 0.85rem;
      color: #888;
      font-weight: bold;
      text-transform: uppercase;
    }

    .score-value {
      font-size: 2rem;
      font-weight: bold;
    }

    .score-item.win .score-value  { color: #28a745; }
    .score-item.lose .score-value { color: #dc3545; }
    .score-item.draw .score-value { color: #ffc107; }

    .battle-area {
      display: flex;
      justify-content: space-around;
      align-items: center;
      margin: 25px 0;
      min-height: 140px;
    }

    .hand-display {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .hand-label {
      font-size: 0.85rem;
      color: #888;
      font-weight: bold;
    }

    .hand-emoji {
      font-size: 5rem;
      transition: transform 0.3s ease;
    }

    .hand-emoji.shake {
      animation: shake 0.5s ease infinite;
    }

    @keyframes shake {
      0%, 100% { transform: translateY(0); }
      50%       { transform: translateY(-10px); }
    }

    .vs-text {
      font-size: 1.5rem;
      font-weight: bold;
      color: #ccc;
    }

    .result-text {
      font-size: 1.8rem;
      font-weight: bold;
      margin: 10px 0;
      min-height: 2.5rem;
      transition: all 0.3s ease;
    }

    .result-text.win  { color: #28a745; }
    .result-text.lose { color: #dc3545; }
    .result-text.draw { color: #ffc107; }

    .choices {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 20px 0;
    }

    .choice-btn {
      background: none;
      border: 3px solid #e0e0e0;
      border-radius: 16px;
      padding: 12px 20px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }

    .choice-btn:hover {
      border-color: #667eea;
      background: #f0f0ff;
      transform: translateY(-3px);
    }

    .choice-btn:active {
      transform: translateY(0);
    }

    .choice-btn .emoji {
      font-size: 2.5rem;
    }

    .choice-btn .name {
      font-size: 0.85rem;
      font-weight: bold;
      color: #555;
    }

    .janken-call {
      font-size: 1.6rem;
      font-weight: bold;
      color: #667eea;
      margin-bottom: 5px;
    }

    .reset-btn {
      margin-top: 15px;
      padding: 10px 30px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 30px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s ease;
    }

    .reset-btn:hover {
      background: #5a6fd6;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>‚úä „Åò„ÇÉ„Çì„Åë„Çì„Ç≤„Éº„É†</h1>

    <div class="score-board">
      <div class="score-item win">
        <div class="score-label">Âãù„Å°</div>
        <div class="score-value" id="win-count">0</div>
      </div>
      <div class="score-item draw">
        <div class="score-label">„ÅÇ„ÅÑ„Åì</div>
        <div class="score-value" id="draw-count">0</div>
      </div>
      <div class="score-item lose">
        <div class="score-label">Ë≤†„Åë</div>
        <div class="score-value" id="lose-count">0</div>
      </div>
    </div>

    <div class="battle-area">
      <div class="hand-display">
        <div class="hand-label">„ÅÇ„Å™„Åü</div>
        <div class="hand-emoji" id="player-hand">ü§ú</div>
      </div>
      <div class="vs-text">VS</div>
      <div class="hand-display">
        <div class="hand-label">„Ç≥„É≥„Éî„É•„Éº„Çø</div>
        <div class="hand-emoji" id="cpu-hand">ü§ú</div>
      </div>
    </div>

    <div class="result-text" id="result-text">Êâã„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ</div>

    <div class="janken-call" id="janken-call">„Åò„ÇÉ„Çì„Åë„ÇìÔºÅ</div>

    <div class="choices">
      <button class="choice-btn" onclick="play('rock')">
        <span class="emoji">‚úä</span>
        <span class="name">„Ç∞„Éº</span>
      </button>
      <button class="choice-btn" onclick="play('scissors')">
        <span class="emoji">‚úåÔ∏è</span>
        <span class="name">„ÉÅ„Éß„Ç≠</span>
      </button>
      <button class="choice-btn" onclick="play('paper')">
        <span class="emoji">üñêÔ∏è</span>
        <span class="name">„Éë„Éº</span>
      </button>
    </div>

    <button class="reset-btn" onclick="resetScore()">„Çπ„Ç≥„Ç¢„É™„Çª„ÉÉ„Éà</button>
  </div>

  <script>
    const HANDS = {
      rock:    { emoji: '‚úä', name: '„Ç∞„Éº' },
      scissors:{ emoji: '‚úåÔ∏è', name: '„ÉÅ„Éß„Ç≠' },
      paper:   { emoji: 'üñêÔ∏è', name: '„Éë„Éº' },
    };

    // rock „Åå scissors „Å´Âãù„Å§„ÄÅscissors „Åå paper „Å´Âãù„Å§„ÄÅpaper „Åå rock „Å´Âãù„Å§
    const WINS_AGAINST = {
      rock: 'scissors',
      scissors: 'paper',
      paper: 'rock',
    };

    const score = { win: 0, draw: 0, lose: 0 };

    function getRandomHand() {
      const keys = Object.keys(HANDS);
      return keys[Math.floor(Math.random() * keys.length)];
    }

    function judge(player, cpu) {
      if (player === cpu) return 'draw';
      if (WINS_AGAINST[player] === cpu) return 'win';
      return 'lose';
    }

    let resetTimer = null;

    function play(playerChoice) {
      // ÈÄ£ÊâìÊôÇ„Å´Ââç„ÅÆ„Çø„Ç§„Éû„Éº„Çí„Ç≠„É£„É≥„Çª„É´
      if (resetTimer) clearTimeout(resetTimer);

      const cpuChoice = getRandomHand();
      const result = judge(playerChoice, cpuChoice);

      // Êâã„ÇíÊõ¥Êñ∞
      document.getElementById('player-hand').textContent = HANDS[playerChoice].emoji;
      document.getElementById('cpu-hand').textContent    = HANDS[cpuChoice].emoji;

      // „Åò„ÇÉ„Çì„Åë„ÇìÔºÅ„ÇíÈùûË°®Á§∫
      document.getElementById('janken-call').style.visibility = 'hidden';

      // ÁµêÊûú„ÇíË°®Á§∫
      const resultEl = document.getElementById('result-text');
      resultEl.className = 'result-text';

      if (result === 'win') {
        resultEl.textContent = 'üéâ „ÅÇ„Å™„Åü„ÅÆÂãù„Å°ÔºÅ';
        resultEl.classList.add('win');
        score.win++;
      } else if (result === 'lose') {
        resultEl.textContent = 'üò¢ „ÅÇ„Å™„Åü„ÅÆË≤†„Åë‚Ä¶';
        resultEl.classList.add('lose');
        score.lose++;
      } else {
        resultEl.textContent = 'ü§ù „ÅÇ„ÅÑ„ÅìÔºÅ';
        resultEl.classList.add('draw');
        score.draw++;
      }

      // „Çπ„Ç≥„Ç¢Êõ¥Êñ∞
      document.getElementById('win-count').textContent  = score.win;
      document.getElementById('draw-count').textContent = score.draw;
      document.getElementById('lose-count').textContent = score.lose;

      // 3ÁßíÂæå„Å´„Åò„ÇÉ„Çì„Åë„ÇìÔºÅ„ÇíÂÜçË°®Á§∫„ÉªÁµêÊûú„Çí„É™„Çª„ÉÉ„Éà
      resetTimer = setTimeout(() => {
        resultEl.className = 'result-text';
        resultEl.textContent = 'Êâã„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ';
        document.getElementById('player-hand').textContent = 'ü§ú';
        document.getElementById('cpu-hand').textContent    = 'ü§ú';
        document.getElementById('janken-call').style.visibility = 'visible';
        resetTimer = null;
      }, 1000);
    }

    function resetScore() {
      if (resetTimer) { clearTimeout(resetTimer); resetTimer = null; }
      score.win = score.draw = score.lose = 0;
      document.getElementById('win-count').textContent  = 0;
      document.getElementById('draw-count').textContent = 0;
      document.getElementById('lose-count').textContent = 0;
      document.getElementById('player-hand').textContent = 'ü§ú';
      document.getElementById('cpu-hand').textContent    = 'ü§ú';
      const resultEl = document.getElementById('result-text');
      resultEl.className = 'result-text';
      resultEl.textContent = 'Êâã„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ';
      document.getElementById('janken-call').style.visibility = 'visible';
    }
  </script>
</body>
</html>
